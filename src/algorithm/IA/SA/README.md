# 模拟退火算法 (Simulated Annealing)

## 算法概述

模拟退火算法是一种受热力学退火过程启发的随机搜索算法，通过模拟物质退火过程中温度逐渐降低的过程，在搜索空间中寻找全局最优解。

## 核心原理

1. **热力学启发**：模拟金属退火过程
2. **Metropolis准则**：概率接受差解，避免局部最优
3. **温度控制**：控制接受差解的概率
4. **渐进冷却**：温度逐渐降低，搜索逐渐收敛

## 算法流程

```
初始化温度和随机解 → 重复以下步骤直到满足停止条件:
  生成邻域解 → 计算能量差 → 根据Metropolis准则决定是否接受 → 降低温度
```

## 代码结构

- `SimulatedAnnealing.java`: 模拟退火算法主类
- `FunctionOptimizationSA.java`: 函数优化应用示例

## 经典应用

### 1. 组合优化
- **旅行商问题 (TSP)**: 寻找最短路径
- **图着色问题**: 最小着色数
- **背包问题**: 0-1背包优化

### 2. 函数优化
- **单峰函数优化**: 简单凸函数
- **多峰函数优化**: Rastrigin, Ackley函数
- **约束优化**: 带约束的优化问题

### 3. 工程应用
- **电路布局**: VLSI电路设计
- **生产调度**: 作业车间调度
- **资源分配**: 通信网络优化

### 4. 机器学习
- **参数调优**: 模型超参数优化
- **特征选择**: 选择最优特征子集
- **聚类优化**: 确定聚类中心

### 5. 其他领域
- **蛋白质折叠**: 分子结构预测
- **金融优化**: 投资组合优化
- **图像处理**: 图像分割优化

## 参数说明

- **初始温度 (initialTemperature)**: 影响算法初始接受概率，通常100-1000
- **终止温度 (finalTemperature)**: 算法停止条件，通常1e-6-1e-3
- **冷却率 (coolingRate)**: 温度降低速度，通常0.95-0.99
- **问题维度 (dimension)**: 解空间维度

## Metropolis准则

新解接受概率：
```
P = 1,                          如果 ΔE ≤ 0
P = exp(-ΔE/T),                 如果 ΔE > 0
```

其中：
- ΔE: 新解与当前解的能量差
- T: 当前温度

## 温度调度策略

1. **线性冷却**: T = T₀ × α^k
2. **指数冷却**: T = T₀ × exp(-k/τ)
3. **对数冷却**: T = T₀ / ln(1+k)
4. **快速冷却**: T = T₀ / k

## 优势

- 理论保证找到全局最优 (无限时间)
- 能跳出局部最优
- 对初始解不敏感
- 适用于各种类型问题
- 实现简单

## 局限性

- 参数选择困难
- 收敛速度慢
- 对温度调度敏感
- 难以并行化

## 使用建议

1. **参数设置**:
   - 初始温度: 使接受概率适中 (0.8-0.9)
   - 冷却率: 0.95-0.99之间
   - 终止温度: 根据精度要求设置

2. **邻域结构**:
   - 选择合适的邻域生成策略
   - 邻域大小与温度相关
   - 保证邻域连通性

3. **改进策略**:
   - 自适应温度调度
   - 重新加热机制
   - 结合局部搜索

## 运行示例

```bash
cd src/algorithm/IA/SA_new
javac *.java
java FunctionOptimizationSA
```

## 变体算法

1. **标准SA**: 基本版本
2. **快速SA**: 改进的冷却策略
3. **自适应SA**: 动态调整参数
4. **量子SA**: 量子计算启发
5. **并行SA**: 多进程并行搜索

## 数学基础

### 收敛性证明
在无限时间和适当冷却条件下，SA算法收敛到全局最优解。

### 接受概率
接受概率满足详细平衡条件，保证算法向最优解收敛。

## 参考文献

1. Kirkpatrick, S., et al. (1983). Optimization by simulated annealing.
2. Černý, V. (1985). Thermodynamical approach to the traveling salesman problem.
3. Laarhoven, P. J. M., & Aarts, E. H. L. (1987). Simulated annealing: Theory and applications.
